!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunksmart_theater_tvm=self.webpackChunksmart_theater_tvm||[]).push([[229],{96229:function(t,r,o){o.r(r),o.d(r,{SettingModule:function(){return Fe}});var i=o(38583),a=o(27234),s=o(27515),c=o(39507),l=o(54463),p=o(9122),u=o(37608),d=o(15123),f=o(45500),m=o(88134),h=o(33018),g=o(4540),v=o(43647),y=o(42880),Z=o(91628),x=o(46545),A=o(27273),b=o(3679),T=o(49166),q=o(60207),C=o(24334);function I(e,t){if(1&e&&(h.TgZ(0,"p"),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e){var n=h.oxw(2).$implicit;h.xp6(1),h.hij(" ",h.lcZ(2,1,"form.label."+n)," ")}}function N(e,t){if(1&e&&(h.TgZ(0,"p"),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e){var n=h.oxw(2).$implicit;h.xp6(1),h.hij(" ",h.lcZ(2,1,"setting.application."+n+".label")," ")}}function k(e,t){1&e&&(h.TgZ(0,"p",11),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij("",h.lcZ(2,1,"form.required")," "))}function J(e,t){if(1&e&&(h.TgZ(0,"option",15),h._uU(1),h.ALo(2,"changeLanguage"),h.qZA()),2&e){var n=t.$implicit;h.Q6J("value",n.id),h.xp6(1),h.hij(" ",h.lcZ(2,2,n.name),"")}}function w(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"select",12),h.NdJ("change",function(){return h.CHM(n),h.oxw(3).changeTheater()}),h.TgZ(1,"option",13),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.YNc(4,J,3,4,"option",14),h.qZA()}if(2&e){var r=h.oxw(2).$implicit,o=h.oxw();h.Q6J("formControlName",r),h.xp6(2),h.Oqu(h.lcZ(3,3,"setting.unselected")),h.xp6(2),h.Q6J("ngForOf",o.theaters)}}function P(e,t){if(1&e&&(h.TgZ(0,"option",15),h._uU(1),h.qZA()),2&e){var n=t.$implicit;h.Q6J("value",n.id),h.xp6(1),h.Oqu(n.name)}}function F(e,t){if(1&e&&(h.TgZ(0,"select",16),h.TgZ(1,"option",13),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.YNc(4,P,2,2,"option",14),h.qZA()),2&e){var n=h.oxw(2).$implicit,r=h.oxw();h.Q6J("formControlName",n),h.xp6(2),h.Oqu(h.lcZ(3,3,"setting.unselected")),h.xp6(2),h.Q6J("ngForOf",r.posList)}}function O(e,t){if(1&e&&(h.TgZ(0,"select",16),h.TgZ(1,"option",15),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"option",15),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.qZA()),2&e){var n=h.oxw(2).$implicit,r=h.oxw();h.Q6J("formControlName",n),h.xp6(1),h.Q6J("value",r.applicationType.Tvm),h.xp6(1),h.hij(" ",h.lcZ(3,5,"setting.application.applicationType.option.tvm")," "),h.xp6(2),h.Q6J("value",r.applicationType.Printer),h.xp6(1),h.hij(" ",h.lcZ(6,7,"setting.application.applicationType.option.printer")," ")}}function L(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"app-numeric-keypad",19),h.NdJ("change",function(e){return h.CHM(n),h.oxw(4).formGroup.controls.applicationPassword.setValue(e)}),h._UZ(1,"input",20),h.qZA()}if(2&e){var r=h.oxw(3).$implicit,o=h.oxw();h.Q6J("inputValue",o.formGroup.controls.applicationPassword.value),h.xp6(1),h.Q6J("formControlName",r)}}function S(e,t){if(1&e&&h._UZ(0,"input",21),2&e){var n=h.oxw(3).$implicit;h.Q6J("formControlName",n)}}function Q(e,t){if(1&e&&(h.ynx(0),h.YNc(1,L,2,2,"app-numeric-keypad",17),h.YNc(2,S,1,1,"input",18),h.BQk()),2&e){var n=h.oxw(3);h.xp6(1),h.Q6J("ngIf",n.environment.INPUT_KEYPAD),h.xp6(1),h.Q6J("ngIf",!n.environment.INPUT_KEYPAD)}}function _(e,t){if(1&e&&(h.TgZ(0,"div",3),h.TgZ(1,"div",4),h.TgZ(2,"div",5),h.YNc(3,I,3,3,"p",6),h.YNc(4,N,3,3,"p",6),h.YNc(5,k,3,3,"p",7),h.qZA(),h.qZA(),h.TgZ(6,"div",8),h.YNc(7,w,5,5,"select",9),h.YNc(8,F,5,5,"select",10),h.YNc(9,O,7,9,"select",10),h.YNc(10,Q,3,2,"ng-container",6),h.qZA(),h.qZA()),2&e){var n=h.oxw().$implicit,r=h.oxw();h.xp6(3),h.Q6J("ngIf",!("applicationType"===n||"applicationPassword"===n)),h.xp6(1),h.Q6J("ngIf","applicationType"===n||"applicationPassword"===n),h.xp6(1),h.Q6J("ngIf",r.isRequired(n)),h.xp6(2),h.Q6J("ngIf","theaterId"===n),h.xp6(1),h.Q6J("ngIf","posId"===n),h.xp6(1),h.Q6J("ngIf","applicationType"===n),h.xp6(1),h.Q6J("ngIf","applicationPassword"===n)}}function G(e,t){if(1&e&&(h.ynx(0),h.YNc(1,_,11,7,"div",2),h.BQk()),2&e){var n=t.$implicit,r=h.oxw();h.xp6(1),h.Q6J("ngIf",!("posId"===n&&0===r.posList.length))}}var Y=function(){function t(n){e(this,t),this.formBuilder=n,this.environment=(0,u.z)(),this.applicationType=p.k.Zr.Mx.v,this.valueChanges=new h.vpe}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.posList=[],this.formGroup=this.createForm();var t=this.data,n=t.theater,r=t.pos,o=t.applicationPassword;void 0!==n&&(this.formGroup.controls.theaterId.setValue(n.id),this.changeTheater()),void 0!==r&&this.formGroup.controls.posId.setValue(r.id);var i=void 0===this.data.applicationType?this.applicationType.Tvm:this.data.applicationType;this.formGroup.controls.applicationType.setValue(i),void 0!==o&&this.formGroup.controls.applicationPassword.setValue(o),this.valueChanges.emit(this.formGroup),this.subscription=this.formGroup.valueChanges.subscribe(function(){e.valueChanges.emit(e.formGroup)})}},{key:"ngOnDestroy",value:function(){void 0!==this.subscription&&this.subscription.unsubscribe()}},{key:"createForm",value:function(){return this.formBuilder.group({theaterId:["",[b.kI.required]],posId:[""],applicationType:[""],applicationPassword:[""]})}},{key:"isRequired",value:function(e){return"theaterId"===e||void 0!==this.environment.PROFILE.find(function(t){return t.key===e&&t.required})}},{key:"getProfileFormKeys",value:function(){return Object.keys(this.formGroup.controls)}},{key:"getProfileProperty",value:function(e){return this.environment.PROFILE.find(function(t){return t.key===e})}},{key:"getAdditionalProperty",value:function(e){return this.environment.PROFILE.find(function(t){return/additionalProperty/.test(t.key)&&t.key===e})}},{key:"changeTheater",value:function(){this.formGroup.controls.posId.setValue("");var e=this.formGroup.controls.theaterId.value,t=this.theaters.find(function(t){return t.id===e});this.posList=""!==e&&void 0!==t?void 0===t.hasPOS?[]:t.hasPOS:[]}}]),t}();function U(e,t){if(1&e&&(h.TgZ(0,"option",14),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e){var n=t.$implicit;h.Q6J("value",n.connectionType),h.xp6(1),h.hij(" ",h.lcZ(2,2,n.name),"")}}function E(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"button",15),h.NdJ("click",function(){return h.CHM(n),h.oxw().print.emit()}),h._uU(1),h.ALo(2,"translate"),h.qZA()}2&e&&(h.xp6(1),h.Oqu(h.lcZ(2,1,"setting.device.printer.testPrinting")))}function j(e,t){1&e&&(h.TgZ(0,"p",18),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"form.validation.required"),""))}function R(e,t){if(1&e&&(h.TgZ(0,"div",16),h.YNc(1,j,3,3,"p",17),h.qZA()),2&e){var n=h.oxw();h.xp6(1),h.Q6J("ngIf",null==n.formGroup.controls.printerIpAddress.errors?null:n.formGroup.controls.printerIpAddress.errors.required)}}function D(e,t){1&e&&(h.TgZ(0,"p",18),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"form.validation.required"),""))}function $(e,t){if(1&e&&(h.TgZ(0,"div",16),h.YNc(1,D,3,3,"p",17),h.qZA()),2&e){var n=h.oxw();h.xp6(1),h.Q6J("ngIf",null==n.formGroup.controls.cashchanger.errors?null:n.formGroup.controls.cashchanger.errors.required)}}function V(e,t){1&e&&(h.TgZ(0,"p",18),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"form.validation.required"),""))}function M(e,t){if(1&e&&(h.TgZ(0,"div",16),h.YNc(1,V,3,3,"p",17),h.qZA()),2&e){var n=h.oxw();h.xp6(1),h.Q6J("ngIf",null==n.formGroup.controls.payment.errors?null:n.formGroup.controls.payment.errors.required)}}Y.\u0275fac=function(e){return new(e||Y)(h.Y36(b.qu))},Y.\u0275cmp=h.Xpm({type:Y,selectors:[["app-input-app"]],inputs:{data:"data",theaters:"theaters"},outputs:{valueChanges:"valueChanges"},decls:2,vars:2,consts:[[3,"formGroup"],[4,"ngFor","ngForOf"],["class","form-group row align-items-center",4,"ngIf"],[1,"form-group","row","align-items-center"],[1,"col-4","py-2","text-right"],[1,"d-inline-flex","align-items-center"],[4,"ngIf"],["class","badge badge-danger ml-2",4,"ngIf"],[1,"col-8"],["class","form-control",3,"formControlName","change",4,"ngIf"],["class","form-control",3,"formControlName",4,"ngIf"],[1,"badge","badge-danger","ml-2"],[1,"form-control",3,"formControlName","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-control",3,"formControlName"],["inputType","string",3,"inputValue","change",4,"ngIf"],["type","password","class","form-control",3,"formControlName",4,"ngIf"],["inputType","string",3,"inputValue","change"],["type","password","readonly","",1,"form-control",3,"formControlName"],["type","password",1,"form-control",3,"formControlName"]],template:function(e,t){1&e&&(h.TgZ(0,"form",0),h.YNc(1,G,2,1,"ng-container",1),h.qZA()),2&e&&(h.Q6J("formGroup",t.formGroup),h.xp6(1),h.Q6J("ngForOf",t.getProfileFormKeys()))},directives:[b._Y,b.JL,b.sg,i.sg,i.O5,b.EJ,b.JJ,b.u,T.mh,b.YN,b.Kr,q.y,b.Fj],pipes:[g.X$,C.i],styles:[""]});var B=function(){function t(n,r){e(this,t),this.formBuilder=n,this.translate=r,this.environment=(0,u.z)(),this.connectionType=p.k.Zr.FB.R,this.printers=p.k.Zr.FB.G,this.valueChanges=new h.vpe,this.print=new h.vpe,this.payment=new h.vpe,this.cashchanger=new h.vpe}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.formGroup=this.createForm();var t=this.data,n=t.printerType,r=t.printerIpAddress,o=t.cashchanger,i=t.payment;void 0!==n&&(this.formGroup.controls.printerType.setValue(n),this.formGroup.controls.printerIpAddress.setValue(r)),void 0!==o&&this.formGroup.controls.cashchanger.setValue(o),void 0!==i&&this.formGroup.controls.payment.setValue(i),this.valueChanges.emit(this.formGroup),this.subscription=this.formGroup.valueChanges.subscribe(function(){e.valueChanges.emit(e.formGroup)})}},{key:"ngOnDestroy",value:function(){void 0!==this.subscription&&this.subscription.unsubscribe()}},{key:"createForm",value:function(){return this.formBuilder.group({printerType:[p.k.Zr.FB.R.None],printerIpAddress:[""],cashchanger:[""],payment:[""]})}},{key:"isRequired",value:function(e){return void 0!==this.environment.PROFILE.find(function(t){return t.key===e&&t.required})}},{key:"getProfileFormKeys",value:function(){return Object.keys(this.formGroup.controls)}},{key:"getProfileProperty",value:function(e){return this.environment.PROFILE.find(function(t){return t.key===e})}},{key:"getAdditionalProperty",value:function(e){return this.environment.PROFILE.find(function(t){return/additionalProperty/.test(t.key)&&t.key===e})}},{key:"changePrinterType",value:function(){this.formGroup.controls.printerType.value===p.k.Zr.FB.R.StarBluetooth&&this.formGroup.controls.printerIpAddress.setValue(this.translate.instant("setting.starBluetoothAddress"))}}]),t}();B.\u0275fac=function(e){return new(e||B)(h.Y36(b.qu),h.Y36(g.sK))},B.\u0275cmp=h.Xpm({type:B,selectors:[["app-input-device"]],inputs:{data:"data",isConnected:"isConnected"},outputs:{valueChanges:"valueChanges",print:"print",payment:"payment",cashchanger:"cashchanger"},decls:52,vars:48,consts:[[3,"formGroup"],[1,"form-group","row"],[1,"col-4","text-right","py-3"],[1,"col-8"],["formControlName","printerType",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],["type","button","class","btn btn-sm btn-custom-primary py-2 mt-2",3,"click",4,"ngIf"],["type","text","formControlName","printerIpAddress","placeholder","0.0.0.0",1,"form-control"],["class","mt-2",4,"ngIf"],[1,"text-small","mt-2",3,"innerHtml"],["type","text","formControlName","cashchanger","placeholder","0.0.0.0",1,"form-control"],["type","button",1,"btn","btn-custom-primary","mt-2","mr-2",3,"disabled","click"],["type","button",1,"btn","btn-custom-primary","mt-2",3,"disabled","click"],["type","text","formControlName","payment","placeholder","0.0.0.0",1,"form-control"],[3,"value"],["type","button",1,"btn","btn-sm","btn-custom-primary","py-2","mt-2",3,"click"],[1,"mt-2"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,t){1&e&&(h.TgZ(0,"form",0),h.TgZ(1,"div",1),h.TgZ(2,"p",2),h._uU(3),h.ALo(4,"translate"),h.qZA(),h.TgZ(5,"div",3),h.TgZ(6,"select",4),h.NdJ("change",function(){return t.changePrinterType()}),h.YNc(7,U,3,4,"option",5),h.qZA(),h.YNc(8,E,3,3,"button",6),h.qZA(),h.qZA(),h.TgZ(9,"div",1),h.TgZ(10,"p",2),h._uU(11),h.ALo(12,"translate"),h.qZA(),h.TgZ(13,"div",3),h._UZ(14,"input",7),h.YNc(15,R,2,1,"div",8),h._UZ(16,"p",9),h.ALo(17,"translate"),h.qZA(),h.qZA(),h.TgZ(18,"div",1),h.TgZ(19,"p",2),h._uU(20),h.ALo(21,"translate"),h.qZA(),h.TgZ(22,"div",3),h._UZ(23,"input",10),h._UZ(24,"p",9),h.ALo(25,"translate"),h.YNc(26,$,2,1,"div",8),h.TgZ(27,"button",11),h.NdJ("click",function(){return t.cashchanger.emit("connect")}),h._uU(28),h.ALo(29,"translate"),h.qZA(),h.TgZ(30,"button",11),h.NdJ("click",function(){return t.cashchanger.emit("endDeposit")}),h._uU(31),h.ALo(32,"translate"),h.qZA(),h.TgZ(33,"button",11),h.NdJ("click",function(){return t.cashchanger.emit("readCounts")}),h._uU(34),h.ALo(35,"translate"),h.qZA(),h.TgZ(36,"button",11),h.NdJ("click",function(){return t.cashchanger.emit("collectAll")}),h._uU(37),h.ALo(38,"translate"),h.qZA(),h.TgZ(39,"button",12),h.NdJ("click",function(){return t.cashchanger.emit("collectPart")}),h._uU(40),h.ALo(41,"translate"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(42,"div",1),h.TgZ(43,"p",2),h._uU(44),h.ALo(45,"translate"),h.qZA(),h.TgZ(46,"div",3),h._UZ(47,"input",13),h.YNc(48,M,2,1,"div",8),h.TgZ(49,"button",12),h.NdJ("click",function(){return t.payment.emit()}),h._uU(50),h.ALo(51,"translate"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.Q6J("formGroup",t.formGroup),h.xp6(3),h.Oqu(h.lcZ(4,24,"setting.device.printer.label")),h.xp6(4),h.Q6J("ngForOf",t.printers),h.xp6(1),h.Q6J("ngIf",t.formGroup.controls.printerType.value&&t.formGroup.controls.printerType.value!==t.connectionType.None),h.xp6(3),h.Oqu(h.lcZ(12,26,"setting.device.printer.ipAddress")),h.xp6(4),h.Q6J("ngIf",t.formGroup.controls.printerIpAddress.invalid&&t.formGroup.controls.printerIpAddress.touched),h.xp6(1),h.Q6J("innerHtml",h.lcZ(17,28,"setting.device.printer.ipAddressDescription"),h.oJD),h.xp6(4),h.Oqu(h.lcZ(21,30,"setting.device.cashchanger.label")),h.xp6(4),h.Q6J("innerHtml",h.lcZ(25,32,"setting.device.cashchanger.description"),h.oJD),h.xp6(2),h.Q6J("ngIf",t.formGroup.controls.cashchanger.invalid&&t.formGroup.controls.cashchanger.touched),h.xp6(1),h.Q6J("disabled",t.isConnected),h.xp6(1),h.Oqu(h.lcZ(29,34,"setting.device.connect")),h.xp6(2),h.Q6J("disabled",t.isConnected),h.xp6(1),h.Oqu(h.lcZ(32,36,"setting.device.endDeposit")),h.xp6(2),h.Q6J("disabled",t.isConnected),h.xp6(1),h.Oqu(h.lcZ(35,38,"setting.device.readCounts")),h.xp6(2),h.Q6J("disabled",t.isConnected),h.xp6(1),h.Oqu(h.lcZ(38,40,"setting.device.collectAll")),h.xp6(2),h.Q6J("disabled",t.isConnected),h.xp6(1),h.Oqu(h.lcZ(41,42,"setting.device.collectPart")),h.xp6(4),h.Oqu(h.lcZ(45,44,"setting.device.payment.label")),h.xp6(4),h.Q6J("ngIf",t.formGroup.controls.payment.invalid&&t.formGroup.controls.payment.touched),h.xp6(1),h.Q6J("disabled",t.isConnected),h.xp6(1),h.Oqu(h.lcZ(51,46,"setting.device.connect")))},directives:[b._Y,b.JL,b.sg,b.EJ,b.JJ,b.u,T.mh,i.sg,i.O5,b.Fj,b.YN,b.Kr],pipes:[g.X$],styles:[""]}),o(67757);var H=o(48768),K=function(){function t(){e(this,t)}return n(t,[{key:"transform",value:function(e,t,n){t=void 0===t?"JP":t,n=void 0===n?"National":n;var r=H.Qc(e);return"JP"!==r.country?e:H.WU(r,n).replace(/\-/g,"")}}]),t}();K.\u0275fac=function(e){return new(e||K)},K.\u0275pipe=h.Yjl({name:"libphonenumberFormat",type:K,pure:!0});var X=["intlTelInput"];function z(e,t){if(1&e&&(h.TgZ(0,"p"),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e){var n=h.oxw().$implicit;h.xp6(1),h.Oqu(h.lcZ(2,1,"form.label."+n))}}function W(e,t){if(1&e&&(h.TgZ(0,"p"),h._uU(1),h.ALo(2,"changeLanguage"),h.qZA()),2&e){var n,r=h.oxw().$implicit,o=h.oxw();h.xp6(1),h.hij(" ",h.lcZ(2,1,null==(n=o.getAdditionalProperty(r))?null:n.label),"")}}function ee(e,t){1&e&&(h.TgZ(0,"p",15),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij("",h.lcZ(2,1,"form.required")," "))}function te(e,t){if(1&e&&(h._UZ(0,"input",16),h.ALo(1,"translate")),2&e){var n=h.oxw().$implicit;h.Q6J("formControlName",n)("id",n)("placeholder",h.lcZ(1,3,"form.placeholder."+n))}}function ne(e,t){if(1&e&&(h._UZ(0,"input",17),h.ALo(1,"translate")),2&e){var n=h.oxw().$implicit;h.Q6J("formControlName",n)("id",n)("placeholder",h.lcZ(1,3,"form.placeholder."+n))}}var re=function(e){return[e]},oe=function(e,t){return[e,t]};function ie(e,t){if(1&e&&h._UZ(0,"ngx-intl-tel-input",18,19),2&e){var n=h.oxw(2);h.Q6J("preferredCountries",h.VKq(10,re,n.CountryISO.Japan))("enableAutoCountrySelect",!1)("enablePlaceholder",!0)("searchCountryFlag",!0)("searchCountryField",h.WLB(12,oe,n.SearchCountryField.Iso2,n.SearchCountryField.Name))("selectFirstCountry",!1)("selectedCountryISO",n.CountryISO.Japan)("maxLength",15)("phoneValidation",!0)("separateDialCode",!1)}}function ae(e,t){if(1&e&&(h.TgZ(0,"option",22),h._uU(1),h.ALo(2,"changeLanguage"),h.qZA()),2&e){var n=t.$implicit;h.Q6J("value",n.value),h.xp6(1),h.hij(" ",h.lcZ(2,2,n.label)," ")}}function se(e,t){if(1&e&&(h.TgZ(0,"select",20),h.YNc(1,ae,3,4,"option",21),h.qZA()),2&e){var n,r=h.oxw().$implicit,o=h.oxw();h.Q6J("formControlName",r)("id",r),h.xp6(1),h.Q6J("ngForOf",null==(n=o.getProfileProperty(r))?null:n.option)}}function ce(e,t){if(1&e&&h._UZ(0,"input",23),2&e){var n=h.oxw().$implicit;h.Q6J("formControlName",n)("id",n)}}function le(e,t){if(1&e&&h._UZ(0,"textarea",24),2&e){var n=h.oxw().$implicit;h.Q6J("formControlName",n)("id",n)}}function pe(e,t){if(1&e&&(h.TgZ(0,"option",22),h._uU(1),h.ALo(2,"changeLanguage"),h.qZA()),2&e){var n=t.$implicit;h.Q6J("value",n.value),h.xp6(1),h.hij(" ",h.lcZ(2,2,n.label)," ")}}function ue(e,t){if(1&e&&(h.TgZ(0,"select",24),h.YNc(1,pe,3,4,"option",21),h.qZA()),2&e){var n,r=h.oxw().$implicit,o=h.oxw();h.Q6J("formControlName",r)("id",r),h.xp6(1),h.Q6J("ngForOf",null==(n=o.getAdditionalProperty(r))?null:n.option)}}function de(e,t){1&e&&(h.TgZ(0,"p",27),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"form.validation.required")," "))}var fe=function(e){return{value:e}};function me(e,t){if(1&e&&(h.TgZ(0,"p",27),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e){var n=h.oxw(2).$implicit,r=h.oxw();h.xp6(1),h.hij(" ",h.xi3(2,1,"form.validation.maxlength",h.VKq(4,fe,null==r.formGroup.controls[n].errors?null:r.formGroup.controls[n].errors.maxlength.requiredLength))," ")}}function he(e,t){if(1&e&&(h.TgZ(0,"p",27),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e){var n=h.oxw(2).$implicit,r=h.oxw();h.xp6(1),h.hij(" ",h.xi3(2,1,"form.validation.minlength",h.VKq(4,fe,null==r.formGroup.controls[n].errors?null:r.formGroup.controls[n].errors.minlength.requiredLength))," ")}}function ge(e,t){1&e&&(h.TgZ(0,"p",27),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"form.validation.email")," "))}function ve(e,t){1&e&&(h.TgZ(0,"p",27),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"form.validation.telephone")," "))}function ye(e,t){1&e&&(h.TgZ(0,"p",27),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"form.validation.fullKana"),""))}function Ze(e,t){1&e&&(h.TgZ(0,"p",27),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"form.validation.lowercaseLetters"),""))}function xe(e,t){if(1&e&&(h.TgZ(0,"div"),h.YNc(1,ye,3,3,"p",26),h.YNc(2,Ze,3,3,"p",26),h.qZA()),2&e){var n=h.oxw(2).$implicit,r=h.oxw();h.xp6(1),h.Q6J("ngIf","ja"===r.language&&(null==r.formGroup.controls[n].errors?null:r.formGroup.controls[n].errors.customPattern)),h.xp6(1),h.Q6J("ngIf","ja"!==r.language&&(null==r.formGroup.controls[n].errors?null:r.formGroup.controls[n].errors.customPattern))}}function Ae(e,t){1&e&&(h.TgZ(0,"p",27),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"form.validation.pattern")," "))}function be(e,t){if(1&e&&(h.TgZ(0,"div",25),h.YNc(1,de,3,3,"p",26),h.YNc(2,me,3,6,"p",26),h.YNc(3,he,3,6,"p",26),h.YNc(4,ge,3,3,"p",26),h.YNc(5,ve,3,3,"p",26),h.YNc(6,xe,3,2,"div",5),h.YNc(7,Ae,3,3,"p",26),h.qZA()),2&e){var n=h.oxw().$implicit,r=h.oxw();h.xp6(1),h.Q6J("ngIf",null==r.formGroup.controls[n].errors?null:r.formGroup.controls[n].errors.required),h.xp6(1),h.Q6J("ngIf",null==r.formGroup.controls[n].errors?null:r.formGroup.controls[n].errors.maxlength),h.xp6(1),h.Q6J("ngIf",null==r.formGroup.controls[n].errors?null:r.formGroup.controls[n].errors.minlength),h.xp6(1),h.Q6J("ngIf",null==r.formGroup.controls[n].errors?null:r.formGroup.controls[n].errors.email),h.xp6(1),h.Q6J("ngIf",null==r.formGroup.controls[n].errors?null:r.formGroup.controls[n].errors.validatePhoneNumber),h.xp6(1),h.Q6J("ngIf","familyName"===n||"givenName"===n),h.xp6(1),h.Q6J("ngIf",null==r.formGroup.controls[n].errors?null:r.formGroup.controls[n].errors.pattern)}}function Te(e,t){if(1&e&&(h.TgZ(0,"div",2),h.TgZ(1,"div",3),h.TgZ(2,"div",4),h.YNc(3,z,3,3,"p",5),h.YNc(4,W,3,3,"p",5),h.YNc(5,ee,3,3,"p",6),h.qZA(),h.qZA(),h.TgZ(6,"div",7),h.YNc(7,te,2,5,"input",8),h.YNc(8,ne,2,5,"input",9),h.YNc(9,ie,2,15,"ngx-intl-tel-input",10),h.YNc(10,se,2,3,"select",11),h.YNc(11,ce,1,2,"input",12),h.YNc(12,le,1,2,"textarea",13),h.YNc(13,ue,2,3,"select",13),h.YNc(14,be,8,7,"div",14),h.qZA(),h.qZA()),2&e){var n,r,o,i=t.$implicit,a=h.oxw();h.xp6(3),h.Q6J("ngIf",!a.getAdditionalProperty(i)),h.xp6(1),h.Q6J("ngIf",a.getAdditionalProperty(i)),h.xp6(1),h.Q6J("ngIf",a.isRequired(i)),h.xp6(2),h.Q6J("ngIf","email"!==i&&"telephone"!==i&&"gender"!==i&&!a.getAdditionalProperty(i)),h.xp6(1),h.Q6J("ngIf","email"===i),h.xp6(1),h.Q6J("ngIf","telephone"===i),h.xp6(1),h.Q6J("ngIf","gender"===i),h.xp6(1),h.Q6J("ngIf",a.getAdditionalProperty(i)&&"input"===(null==(n=a.getAdditionalProperty(i))?null:n.inputType)),h.xp6(1),h.Q6J("ngIf",a.getAdditionalProperty(i)&&"textarea"===(null==(r=a.getAdditionalProperty(i))?null:r.inputType)),h.xp6(1),h.Q6J("ngIf",a.getAdditionalProperty(i)&&"select"===(null==(o=a.getAdditionalProperty(i))?null:o.inputType)),h.xp6(1),h.Q6J("ngIf",a.formGroup.controls[i].invalid&&a.formGroup.controls[i].touched)}}var qe=function(){function t(n,r){e(this,t),this.translate=n,this.formBuilder=r,this.environment=(0,u.z)(),this.SearchCountryField=T.wX,this.CountryISO=T.HT,this.valueChanges=new h.vpe}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.formGroup=this.createForm(),this.valueChanges.emit(this.formGroup),this.subscription=this.formGroup.valueChanges.subscribe(function(){e.valueChanges.emit(e.formGroup)}),setTimeout(function(){if(void 0!==e.intlTelInput){var t=e.intlTelInput.allCountries.find(function(e){return e.iso2===T.HT.Japan});void 0!==t&&(t.placeHolder=e.translate.instant("form.placeholder.telephone"))}},0)}},{key:"ngOnDestroy",value:function(){void 0!==this.subscription&&this.subscription.unsubscribe()}},{key:"createForm",value:function(){var e=this,t=this.environment.PROFILE,n=this.formBuilder.group({});if(t.forEach(function(e){var t=[];void 0!==e.required&&e.required&&t.push(b.kI.required),void 0!==e.maxLength&&t.push(b.kI.maxLength(e.maxLength)),void 0!==e.minLength&&t.push(b.kI.minLength(e.minLength)),void 0!==e.pattern&&t.push(b.kI.pattern(e.pattern)),("familyName"===e.key||"givenName"===e.key)&&t.push(function(t){var n=t.root.get(e.key),r=document.documentElement.lang;if(null!==n){if(""===n.value)return null;if("ja"===r&&!new RegExp(/^[\u30a1-\u30f6\u30fc]+$/).test(n.value))return{customPattern:!0};if("ja"!==r&&!new RegExp(/^[a-z]+$/).test(n.value))return{customPattern:!0}}return null}),"email"===e.key&&t.push(b.kI.email),n.addControl(e.key,new b.NI(e.value,t))}),void 0===this.profile)return n;Object.keys(this.profile).forEach(function(t){var r=e.profile[t];if(void 0!==r&&void 0!==n.controls[t]){if("telephone"===t)return void n.controls.telephone.setValue((new K).transform(r));n.controls[t].setValue(r)}});var r=this.profile.additionalProperty;return void 0!==r&&r.forEach(function(e){var t="additionalProperty.".concat(e.name),r=e.value;void 0===r||void 0===n.controls[t]||n.controls[t].setValue(r)}),n}},{key:"isRequired",value:function(e){return void 0!==this.environment.PROFILE.find(function(t){return t.key===e&&t.required})}},{key:"getProfileFormKeys",value:function(){return Object.keys(this.formGroup.controls)}},{key:"getProfileProperty",value:function(e){return this.environment.PROFILE.find(function(t){return t.key===e})}},{key:"getAdditionalProperty",value:function(e){return this.environment.PROFILE.find(function(t){return/additionalProperty/.test(t.key)&&t.key===e})}},{key:"copyDomain",value:function(){var e=this.translate.instant("email.domain"),t=document.createElement("textarea");t.value=e,t.selectionStart=0,t.selectionEnd=t.value.length,document.body.appendChild(t),t.focus(),document.execCommand("copy"),t.blur(),document.body.removeChild(t)}}]),t}();qe.\u0275fac=function(e){return new(e||qe)(h.Y36(g.sK),h.Y36(b.qu))},qe.\u0275cmp=h.Xpm({type:qe,selectors:[["app-input-customer"]],viewQuery:function(e,t){var n;(1&e&&h.Gf(X,5),2&e)&&(h.iGM(n=h.CRH())&&(t.intlTelInput=n.first))},inputs:{profile:"profile",language:"language"},outputs:{valueChanges:"valueChanges"},decls:2,vars:2,consts:[[3,"formGroup"],["class","form-group row align-items-center",4,"ngFor","ngForOf"],[1,"form-group","row","align-items-center"],[1,"col-4","py-2","text-right"],[1,"d-inline-flex","align-items-center"],[4,"ngIf"],["class","badge badge-danger ml-2",4,"ngIf"],[1,"col-8"],["type","text","class","form-control",3,"formControlName","id","placeholder",4,"ngIf"],["type","email","class","form-control",3,"formControlName","id","placeholder",4,"ngIf"],["inputId","telephone","name","telephone","formControlName","telephone",3,"preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","phoneValidation","separateDialCode",4,"ngIf"],["class","form-control",3,"formControlName","id",4,"ngIf"],["type","text","class","form-control","placeholder","",3,"formControlName","id",4,"ngIf"],["class","form-control","placeholder","",3,"formControlName","id",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"badge","badge-danger","ml-2"],["type","text",1,"form-control",3,"formControlName","id","placeholder"],["type","email",1,"form-control",3,"formControlName","id","placeholder"],["inputId","telephone","name","telephone","formControlName","telephone",3,"preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","phoneValidation","separateDialCode"],["intlTelInput",""],[1,"form-control",3,"formControlName","id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","placeholder","",1,"form-control",3,"formControlName","id"],["placeholder","",1,"form-control",3,"formControlName","id"],[1,"mt-2"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,t){1&e&&(h.TgZ(0,"form",0),h.YNc(1,Te,15,11,"div",1),h.qZA()),2&e&&(h.Q6J("formGroup",t.formGroup),h.xp6(1),h.Q6J("ngForOf",t.getProfileFormKeys()))},directives:[b._Y,b.JL,b.sg,i.sg,i.O5,b.Fj,b.JJ,b.u,T.mh,T.FV,b.EJ,b.YN,b.Kr],pipes:[g.X$,C.i],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], ngx-intl-tel-input[_ngcontent-%COMP%]{display:block}textarea[_ngcontent-%COMP%]{min-height:5rem}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}"]});var Ce=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())})};function Ie(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"app-input-app",21),h.NdJ("valueChanges",function(e){return h.CHM(n),h.oxw().appForm=e}),h.qZA()}if(2&e){var r=h.oxw();h.Q6J("theaters",r.theaters)("data",null==r.inputData?null:r.inputData.app)}}function Ne(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"app-input-device",22),h.NdJ("valueChanges",function(e){return h.CHM(n),h.oxw().deviceForm=e})("print",function(){return h.CHM(n),h.oxw().print()})("payment",function(){return h.CHM(n),h.oxw().payment()})("cashchanger",function(e){return h.CHM(n),h.oxw().cashchanger(e)}),h.qZA()}if(2&e){var r=h.oxw();h.Q6J("data",null==r.inputData?null:r.inputData.device)("isConnected",r.epsonEPOSService.cashchanger.isConnected())}}function ke(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"app-input-customer",23),h.NdJ("valueChanges",function(e){return h.CHM(n),h.oxw().profileForm=e}),h.ALo(1,"async"),h.qZA()}if(2&e){var r,o=h.oxw();h.Q6J("profile",o.inputData.profile)("language",null==(r=h.lcZ(1,2,o.user))?null:r.language)}}var Je=function(){function t(n,r,o,i,a,s,c,l,p){e(this,t),this.epsonEPOSService=n,this.store=r,this.utilService=o,this.actionService=i,this.translate=a,this.router=s,this.paymentService=c,this.cinerinoService=l,this.modal=p,this.environment=(0,u.z)()}return n(t,[{key:"ngOnInit",value:function(){var e,t,n,r;return Ce(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a,s,c,p,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.user=this.store.pipe((0,l.Ys)(f.PR)),this.error=this.store.pipe((0,l.Ys)(f.by)),this.isLoading=this.store.pipe((0,l.Ys)(f.Kv)),this.posList=[],this.theaters=[],o.prev=1,o.next=4,this.actionService.place.searchMovieTheaters();case 4:return this.theaters=o.sent,o.next=7,this.actionService.user.getData();case 7:i=o.sent,a=i.application,s=i.device,c=i.profile,this.inputData={app:Object.assign({},a),device:{printerType:null===(e=null==s?void 0:s.printer)||void 0===e?void 0:e.connectionType,printerIpAddress:null===(t=null==s?void 0:s.printer)||void 0===t?void 0:t.ipAddress,cashchanger:null===(n=null==s?void 0:s.cashchanger)||void 0===n?void 0:n.ipAddress,payment:null===(r=null==s?void 0:s.payment)||void 0===r?void 0:r.ipAddress},profile:c},o.next=17;break;case 14:o.prev=14,o.t0=o.catch(1),console.error(o.t0),this.router.navigate(["/error"]);case 17:return o.prev=17,o.next=20,this.actionService.user.getData();case 20:if(p=o.sent,u=p.device,o.t1=void 0!==(null==u?void 0:u.cashchanger),!o.t1){o.next=30;break}return o.next=26,this.epsonEPOSService.cashchanger.init({ipAddress:u.cashchanger.ipAddress});case 26:return o.next=28,this.epsonEPOSService.cashchanger.endDeposit({endDepositType:"DEPOSIT_REPAY"});case 28:return o.next=30,this.epsonEPOSService.cashchanger.disconnect();case 30:o.next=35;break;case 32:o.prev=32,o.t2=o.catch(17),console.error(o.t2);case 35:case"end":return o.stop()}},o,this,[[1,14],[17,32]])}))}},{key:"onSubmit",value:function(){return Ce(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.keys(this.appForm.controls).forEach(function(e){i.appForm.controls[e].markAsTouched()}),Object.keys(this.deviceForm.controls).forEach(function(e){i.deviceForm.controls[e].markAsTouched()}),Object.keys(this.profileForm.controls).forEach(function(e){i.profileForm.controls[e].markAsTouched()}),!(this.appForm.invalid||this.deviceForm.invalid||this.profileForm.invalid)){e.next=4;break}this.utilService.openAlert({title:this.translate.instant("common.error"),body:this.translate.instant("setting.alert.validation")}),e.next=15;break;case 4:if(e.prev=4,t=this.appForm.controls.theaterId.value,n=this.appForm.controls.posId.value,void 0!==(r=this.theaters.find(function(e){return e.id===t}))){e.next=8;break}throw new Error("theater not found");case 8:o=void 0===r.hasPOS?r.hasPOS:r.hasPOS.find(function(e){return e.id===n}),this.actionService.user.update({application:{pos:o,theater:r,applicationType:this.appForm.controls.applicationType.value,applicationPassword:this.appForm.controls.applicationPassword.value},profile:{familyName:void 0===this.profileForm.controls.familyName?void 0:this.profileForm.controls.familyName.value,givenName:void 0===this.profileForm.controls.givenName?void 0:this.profileForm.controls.givenName.value,email:void 0===this.profileForm.controls.email?void 0:this.profileForm.controls.email.value,telephone:void 0===this.profileForm.controls.telephone?void 0:this.profileForm.controls.telephone.value.e164Number,age:void 0===this.profileForm.controls.age?void 0:this.profileForm.controls.age.value,address:void 0===this.profileForm.controls.address?void 0:this.profileForm.controls.address.value,gender:void 0===this.profileForm.controls.gender?void 0:this.profileForm.controls.gender.value},device:{printer:{ipAddress:this.deviceForm.controls.printerIpAddress.value,connectionType:this.deviceForm.controls.printerType.value},cashchanger:{ipAddress:void 0===this.deviceForm.controls.cashchanger.value?void 0:this.deviceForm.controls.cashchanger.value},payment:{ipAddress:void 0===this.deviceForm.controls.payment.value?void 0:this.deviceForm.controls.payment.value}}}),this.utilService.openAlert({title:this.translate.instant("common.complete"),body:this.translate.instant("setting.alert.success")}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[4,12]])}))}},{key:"print",value:function(){return Ce(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={connectionType:this.deviceForm.controls.printerType.value,ipAddress:this.deviceForm.controls.printerIpAddress.value},e.prev=1,e.next=4,this.actionService.order.print({orders:[],printer:t});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0),this.utilService.openAlert({title:this.translate.instant("common.error"),body:'\n                <p class="mb-4">'.concat(this.translate.instant("setting.alert.print"),'</p>\n                    <div class="p-3 bg-light-gray select-text">\n                    <code>').concat("{}"===JSON.stringify(e.t0)?e.t0:JSON.stringify(e.t0),"</code>\n                </div>")});case 9:case"end":return e.stop()}},e,this,[[1,6]])}))}},{key:"cashchanger",value:function(e){return Ce(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=this.deviceForm.controls.cashchanger.value,t.t0="connect"===e,!t.t0){t.next=9;break}return t.next=6,this.epsonEPOSService.cashchanger.init({ipAddress:n});case 6:return t.next=8,this.epsonEPOSService.cashchanger.disconnect();case 8:this.utilService.openAlert({title:this.translate.instant("common.complete"),body:this.translate.instant("setting.alert.connection")});case 9:if(t.t1="endDeposit"===e,!t.t1){t.next=17;break}return t.next=13,this.epsonEPOSService.cashchanger.init({ipAddress:n});case 13:return t.next=15,this.epsonEPOSService.cashchanger.endDeposit({endDepositType:"DEPOSIT_REPAY"});case 15:return t.next=17,this.epsonEPOSService.cashchanger.disconnect();case 17:if("readCounts"!==e){t.next=27;break}return t.next=20,this.epsonEPOSService.cashchanger.init({ipAddress:n});case 20:return t.next=22,this.epsonEPOSService.cashchanger.readCounts();case 22:return r=t.sent,t.next=25,this.epsonEPOSService.cashchanger.disconnect();case 25:console.log("counts",r),this.modal.show(m.f,{initialState:{counts:r},class:"modal-dialog-centered"});case 27:("collectAll"===e||"collectPart"===e)&&this.utilService.openConfirm({title:this.translate.instant("common.confirm"),body:this.translate.instant("setting.confirm.collect"),cb:function(){return Ce(o,void 0,void 0,regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="collectAll"===e?"ALL_CASH":"PART_OF_CASH",t.next=4,this.epsonEPOSService.cashchanger.init({ipAddress:n});case 4:return t.next=6,this.epsonEPOSService.cashchanger.collect({collectType:r});case 6:return t.next=8,this.epsonEPOSService.cashchanger.disconnect();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),this.utilService.openAlert({title:this.translate.instant("common.error"),body:"",error:"{}"===JSON.stringify(t.t0)?t.t0:JSON.stringify(t.t0)});case 13:case"end":return t.stop()}},t,this,[[0,10]])}))}}),t.next=33;break;case 30:t.prev=30,t.t2=t.catch(0),console.error(t.t2),this.utilService.openAlert({title:this.translate.instant("common.error"),body:"",error:"{}"===JSON.stringify(t.t2)?t.t2:JSON.stringify(t.t2)});case 33:case"end":return t.stop()}},t,this,[[0,30]])}))}},{key:"payment",value:function(){return Ce(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.deviceForm.controls.payment.value,e.next=4,this.paymentService.init({ipAddress:t});case 4:return e.next=6,this.paymentService.exec({func:p.k.Bu.F6.sk.TERMINAL.COMMUNICATION});case 6:n=e.sent,console.log(n),this.utilService.openAlert({title:this.translate.instant("common.complete"),body:this.translate.instant("setting.alert.connection")}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),r=void 0===e.t0.message?e.t0:e.t0.message,this.utilService.openAlert({title:this.translate.instant("common.error"),body:'\n                <div class="p-3 bg-light-gray select-text">\n                    <code>'.concat(r,"</code>\n                </div>")});case 15:case"end":return e.stop()}},e,this,[[0,10]])}))}},{key:"signOut",value:function(){return Ce(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.cinerinoService.getServices();case 3:return e.next=5,this.cinerinoService.signOut();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"reload",value:function(){location.reload()}}]),t}();Je.\u0275fac=function(e){return new(e||Je)(h.Y36(d.ug),h.Y36(l.yh),h.Y36(d.fK),h.Y36(d.cw),h.Y36(g.sK),h.Y36(s.F0),h.Y36(d.te),h.Y36(d.y8),h.Y36(v.tT))},Je.\u0275cmp=h.Xpm({type:Je,selectors:[["app-setting"]],decls:51,vars:34,consts:[[3,"title"],[1,"contents"],[1,"container","h-100"],[1,"row","h-100"],[1,"col-12","col-md-9","mh-100","px-0"],[1,"p-3"],[1,"border-bottom","pb-3","mb-4"],[1,"font-weight-bold","mb-3"],[3,"theaters","data","valueChanges",4,"ngIf"],[3,"data","isConnected","valueChanges","print","payment","cashchanger",4,"ngIf"],[3,"profile","language","valueChanges",4,"ngIf"],[1,"col-12","col-md-3"],[1,"row"],[1,"col-6","col-md-12","mb-3"],["type","button",1,"btn","btn-custom-primary","btn-block","py-3","py-md-2",3,"click"],[1,"row","align-items-center","justify-content-end","h-100"],[1,"col-3","col-md-2","mr-auto","mr-md-0"],["type","button","routerLink","/",1,"btn","btn-custom-secondary","btn-block","py-3","shadow-sm"],[1,"col-3","col-md-2"],["type","button",1,"text-large","btn","btn-custom-secondary","btn-block","font-weight-bold","shadow-sm","py-3",3,"routerLink"],["type","submit",1,"text-large","btn","btn-custom-primary","btn-block","font-weight-bold","shadow-sm","py-3",3,"disabled","click"],[3,"theaters","data","valueChanges"],[3,"data","isConnected","valueChanges","print","payment","cashchanger"],[3,"profile","language","valueChanges"]],template:function(e,t){1&e&&(h.TgZ(0,"app-header"),h._UZ(1,"app-page-title",0),h.ALo(2,"translate"),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"div",2),h.TgZ(5,"div",3),h.TgZ(6,"div",4),h.TgZ(7,"app-scroll-vertical"),h.TgZ(8,"div",5),h.TgZ(9,"div",6),h.TgZ(10,"p",7),h._uU(11),h.ALo(12,"translate"),h.qZA(),h.YNc(13,Ie,1,2,"app-input-app",8),h.qZA(),h.TgZ(14,"div",6),h.TgZ(15,"p",7),h._uU(16),h.ALo(17,"translate"),h.qZA(),h.YNc(18,Ne,1,2,"app-input-device",9),h.qZA(),h.TgZ(19,"div",6),h.TgZ(20,"p",7),h._uU(21),h.ALo(22,"translate"),h.qZA(),h.YNc(23,ke,2,4,"app-input-customer",10),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(24,"div",11),h.TgZ(25,"div",5),h.TgZ(26,"div",12),h.TgZ(27,"div",13),h.TgZ(28,"button",14),h.NdJ("click",function(){return t.signOut()}),h._uU(29),h.ALo(30,"translate"),h.qZA(),h.qZA(),h.TgZ(31,"div",13),h.TgZ(32,"button",14),h.NdJ("click",function(){return t.reload()}),h._uU(33),h.ALo(34,"translate"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(35,"app-footer"),h.TgZ(36,"div",2),h.TgZ(37,"div",15),h.TgZ(38,"div",16),h.TgZ(39,"button",17),h._uU(40),h.ALo(41,"translate"),h.qZA(),h.qZA(),h.TgZ(42,"div",18),h.TgZ(43,"button",19),h._uU(44),h.ALo(45,"translate"),h.qZA(),h.qZA(),h.TgZ(46,"div",18),h.TgZ(47,"button",20),h.NdJ("click",function(){return t.onSubmit()}),h.ALo(48,"async"),h._uU(49),h.ALo(50,"translate"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(1),h.s9C("title",h.lcZ(2,14,"setting.title")),h.xp6(10),h.hij(" ",h.lcZ(12,16,"setting.application.title")," "),h.xp6(2),h.Q6J("ngIf",null==t.inputData?null:t.inputData.app),h.xp6(3),h.hij(" ",h.lcZ(17,18,"setting.device.title")," "),h.xp6(2),h.Q6J("ngIf",null==t.inputData?null:t.inputData.device),h.xp6(3),h.hij(" ",h.lcZ(22,20,"setting.basic.title")," "),h.xp6(2),h.Q6J("ngIf",t.inputData),h.xp6(6),h.hij(" ",h.lcZ(30,22,"setting.signOut")," "),h.xp6(4),h.hij(" ",h.lcZ(34,24,"setting.reload")," "),h.xp6(7),h.hij(" ",h.lcZ(41,26,"common.clear")," "),h.xp6(3),h.Q6J("routerLink",t.environment.BASE_URL),h.xp6(1),h.hij(" ",h.lcZ(45,28,"setting.prev")," "),h.xp6(3),h.Q6J("disabled",h.lcZ(48,30,t.isLoading)),h.xp6(2),h.hij(" ",h.lcZ(50,32,"setting.next")," "))},directives:[y.G,Z.T,x.Y,i.O5,A.c,s.rH,Y,B,qe],pipes:[g.X$,i.Ov],styles:[""]});var we=[{path:"",component:c.H,children:[{path:"",component:Je}]}],Pe=n(function t(){e(this,t)});Pe.\u0275fac=function(e){return new(e||Pe)},Pe.\u0275mod=h.oAB({type:Pe}),Pe.\u0275inj=h.cJS({imports:[[s.Bz.forChild(we)],s.Bz]});var Fe=n(function t(){e(this,t)});Fe.\u0275fac=function(e){return new(e||Fe)},Fe.\u0275mod=h.oAB({type:Fe}),Fe.\u0275inj=h.cJS({imports:[[i.ez,Pe,a.m]]})}}])}();