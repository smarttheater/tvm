"use strict";(self.webpackChunksmart_theater_tvm=self.webpackChunksmart_theater_tvm||[]).push([[489],{76489:function(t,n,e){e.r(n),e.d(n,{AuthModule:function(){return T}});var i=e(38583),o=e(27234),c=e(91060),r=e(86142),s=e(37608),a=e(4247),p=e(33018),u=e(39668),l=function(t,n,e,i){return new(e||(e=Promise))(function(o,c){function r(t){try{a(i.next(t))}catch(n){c(n)}}function s(t){try{a(i.throw(t))}catch(n){c(n)}}function a(t){t.done?o(t.value):function(t){return t instanceof e?t:new e(function(n){n(t)})}(t.value).then(r,s)}a((i=i.apply(t,n||[])).next())})};class d{constructor(t,n){this.cinerino=t,this.router=n,this.environment=(0,s.z)()}ngOnInit(){return l(this,void 0,void 0,function*(){try{yield this.cinerino.getServices(),this.router.navigate([this.environment.BASE_URL])}catch(t){yield this.cinerino.signIn()}})}}d.\u0275fac=function(t){return new(t||d)(p.Y36(a.y),p.Y36(c.F0))},d.\u0275cmp=p.Xpm({type:d,selectors:[["app-auth-index"]],decls:1,vars:1,consts:[["process","process.authAction.CheckLogin",3,"isLoading"]],template:function(t,n){1&t&&p._UZ(0,"app-loading",0),2&t&&p.Q6J("isLoading",!0)},directives:[u.N],styles:[""]});var h=e(54463),g=e(88311),f=e(45500),m=e(42880),v=e(91628),Z=e(27273),y=function(t,n,e,i){return new(e||(e=Promise))(function(o,c){function r(t){try{a(i.next(t))}catch(n){c(n)}}function s(t){try{a(i.throw(t))}catch(n){c(n)}}function a(t){t.done?o(t.value):function(t){return t instanceof e?t:new e(function(n){n(t)})}(t.value).then(r,s)}a((i=i.apply(t,n||[])).next())})};function A(t,n){if(1&t&&(p.TgZ(0,"li",10),p.TgZ(1,"div",11),p.TgZ(2,"div",12),p.TgZ(3,"div",13),p.TgZ(4,"div",14),p._UZ(5,"img",15),p.qZA(),p.TgZ(6,"p",16),p._uU(7),p.qZA(),p.qZA(),p.TgZ(8,"a",17),p._uU(9,"\u8d77\u52d5"),p.qZA(),p.TgZ(10,"a",18),p._uU(11,"\u8a2d\u5b9a"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){const t=n.$implicit;p.xp6(5),p.Q6J("src",t.logo,p.LSH)("alt",t.name),p.xp6(2),p.Oqu(t.name),p.xp6(1),p.Q6J("href","/?projectId="+t.id,p.LSH),p.xp6(2),p.Q6J("href","/?projectId="+t.id+"#/setting",p.LSH)}}function b(t,n){if(1&t&&(p.TgZ(0,"div",6),p.TgZ(1,"div",7),p.TgZ(2,"ul",8),p.YNc(3,A,12,5,"li",9),p.qZA(),p.qZA(),p.qZA()),2&t){const t=p.oxw();p.xp6(3),p.Q6J("ngForOf",t.projects)}}class w{constructor(t,n,e,i){this.store=t,this.storeService=n,this.cinerinoService=e,this.actionService=i}ngOnInit(){return y(this,void 0,void 0,function*(){this.isLoading=this.store.pipe((0,h.Ys)(f.Kv)),this.projects=[],this.projects=yield this.actionService.project.search(),this.storeService.util.loadStart({process:"load"}),this.storeService.util.loadEnd()})}signOut(){return y(this,void 0,void 0,function*(){try{yield this.cinerinoService.getServices(),yield this.cinerinoService.signOut()}catch(t){console.error(t)}})}}w.\u0275fac=function(t){return new(t||w)(p.Y36(h.yh),p.Y36(g.d6),p.Y36(g.y8),p.Y36(g.cw))},w.\u0275cmp=p.Xpm({type:w,selectors:[["app-auth-signin"]],decls:10,vars:4,consts:[["title","\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u9078\u629e"],[1,"contents","scroll-vertical"],["class","p-3",4,"ngIf"],[1,"col-3","col-md-2"],["type","button",1,"btn","btn-custom-secondary","btn-block","font-weight-bold","py-3","shadow-sm",3,"click"],["process","process.action.Project.search",3,"isLoading"],[1,"p-3"],[1,"container","px-0"],[1,"row"],["class","col-6 col-md-3 mb-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-3","mb-3"],[1,"card","h-100"],[1,"card-body"],[1,"d-flex","align-items-center","mb-3"],[1,"mr-2"],[1,"logo",3,"src","alt"],[1,"text-small","font-weight-bold","text-overflow-ellipsis"],[1,"btn","btn-custom-primary","px-3","mr-3",3,"href"],[1,"btn","btn-custom-primary","px-3",3,"href"]],template:function(t,n){1&t&&(p.TgZ(0,"app-header"),p._UZ(1,"app-page-title",0),p.qZA(),p.TgZ(2,"div",1),p.YNc(3,b,4,1,"div",2),p.qZA(),p.TgZ(4,"app-footer"),p.TgZ(5,"div",3),p.TgZ(6,"button",4),p.NdJ("click",function(){return n.signOut()}),p._uU(7,"\u30ed\u30b0\u30a2\u30a6\u30c8"),p.qZA(),p.qZA(),p.qZA(),p._UZ(8,"app-loading",5),p.ALo(9,"async")),2&t&&(p.xp6(3),p.Q6J("ngIf",n.projects.length>0),p.xp6(5),p.Q6J("isLoading",p.lcZ(9,2,n.isLoading)))},directives:[m.G,v.T,i.O5,Z.c,u.N,i.sg],pipes:[i.Ov],styles:[".logo[_ngcontent-%COMP%]{width:2rem}.btn-custom-primary.disabled[_ngcontent-%COMP%]{opacity:1!important;background-color:#666!important;border-color:#666!important;color:#eee!important}"]});class S{constructor(t,n){this.router=t,this.storeService=n}ngOnInit(){this.storeService.order.remove(),this.storeService.purchase.remove(),this.router.navigate(["/"])}selectProject(){}}S.\u0275fac=function(t){return new(t||S)(p.Y36(c.F0),p.Y36(g.d6))},S.\u0275cmp=p.Xpm({type:S,selectors:[["app-auth-signout"]],decls:1,vars:1,consts:[["process","process.authAction.Logout",3,"isLoading"]],template:function(t,n){1&t&&p._UZ(0,"app-loading",0),2&t&&p.Q6J("isLoading",!0)},directives:[u.N],styles:[""]});const x=[{path:"",children:[{path:"",component:d},{path:"signin",canActivate:[r.PP],component:w},{path:"signout",component:S}]}];class q{}q.\u0275fac=function(t){return new(t||q)},q.\u0275mod=p.oAB({type:q}),q.\u0275inj=p.cJS({imports:[[c.Bz.forChild(x)],c.Bz]});class T{}T.\u0275fac=function(t){return new(t||T)},T.\u0275mod=p.oAB({type:T}),T.\u0275inj=p.cJS({imports:[[i.ez,q,o.m]]})}}]);