!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunksmart_theater_tvm=self.webpackChunksmart_theater_tvm||[]).push([[489],{76489:function(e,i,r){r.r(i),r.d(i,{AuthModule:function(){return q}});var o=r(38583),c=r(27234),s=r(27515),a=r(86142),u=r(37608),p=r(4247),l=r(33018),f=r(39668),h=function(){function e(n,i){t(this,e),this.cinerino=n,this.router=i,this.environment=(0,u.z)()}return n(e,[{key:"ngOnInit",value:function(){return t=this,e=void 0,n=void 0,i=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.cinerino.getServices();case 3:this.router.navigate([this.environment.BASE_URL]),t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,this.cinerino.signIn();case 10:case"end":return t.stop()}},t,this,[[0,6]])}),new(n||(n=Promise))(function(r,o){function c(t){try{a(i.next(t))}catch(e){o(e)}}function s(t){try{a(i.throw(t))}catch(e){o(e)}}function a(t){t.done?r(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(c,s)}a((i=i.apply(t,e||[])).next())});var t,e,n,i}}]),e}();h.\u0275fac=function(t){return new(t||h)(l.Y36(p.y),l.Y36(s.F0))},h.\u0275cmp=l.Xpm({type:h,selectors:[["app-auth-index"]],decls:1,vars:1,consts:[["process","process.authAction.CheckLogin",3,"isLoading"]],template:function(t,e){1&t&&l._UZ(0,"app-loading",0),2&t&&l.Q6J("isLoading",!0)},directives:[f.N],styles:[""]});var d=r(54463),v=r(15123),g=r(45500),m=r(42880),Z=r(91628),y=r(27273),w=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function c(t){try{a(i.next(t))}catch(e){o(e)}}function s(t){try{a(i.throw(t))}catch(e){o(e)}}function a(t){t.done?r(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(c,s)}a((i=i.apply(t,e||[])).next())})};function b(t,e){if(1&t&&(l.TgZ(0,"li",10),l.TgZ(1,"div",11),l.TgZ(2,"div",12),l.TgZ(3,"div",13),l.TgZ(4,"div",14),l._UZ(5,"img",15),l.qZA(),l.TgZ(6,"p",16),l._uU(7),l.qZA(),l.qZA(),l.TgZ(8,"a",17),l._uU(9,"\u8d77\u52d5"),l.qZA(),l.TgZ(10,"a",18),l._uU(11,"\u8a2d\u5b9a"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){var n=e.$implicit;l.xp6(5),l.Q6J("src",n.logo,l.LSH)("alt",n.name),l.xp6(2),l.Oqu(n.name),l.xp6(1),l.Q6J("href","/?projectId="+n.id,l.LSH),l.xp6(2),l.Q6J("href","/?projectId="+n.id+"#/setting",l.LSH)}}function x(t,e){if(1&t&&(l.TgZ(0,"div",6),l.TgZ(1,"div",7),l.TgZ(2,"ul",8),l.YNc(3,b,12,5,"li",9),l.qZA(),l.qZA(),l.qZA()),2&t){var n=l.oxw();l.xp6(3),l.Q6J("ngForOf",n.projects)}}var A=function(){function e(n,i,r,o){t(this,e),this.store=n,this.utilService=i,this.cinerinoService=r,this.actionService=o}return n(e,[{key:"ngOnInit",value:function(){return w(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=this.store.pipe((0,d.Ys)(g.Kv)),this.projects=[],t.next=4,this.actionService.project.search();case 4:this.projects=t.sent,this.utilService.loadStart({process:"load"}),this.utilService.loadEnd();case 7:case"end":return t.stop()}},t,this)}))}},{key:"signOut",value:function(){return w(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.cinerinoService.getServices();case 3:return t.next=5,this.cinerinoService.signOut();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}}]),e}();A.\u0275fac=function(t){return new(t||A)(l.Y36(d.yh),l.Y36(v.fK),l.Y36(v.y8),l.Y36(v.cw))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-auth-signin"]],decls:10,vars:4,consts:[["title","\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u9078\u629e"],[1,"contents","scroll-vertical"],["class","p-3",4,"ngIf"],[1,"col-3","col-md-2"],["type","button",1,"btn","btn-custom-secondary","btn-block","font-weight-bold","py-3","shadow-sm",3,"click"],["process","process.action.Project.search",3,"isLoading"],[1,"p-3"],[1,"container","px-0"],[1,"row"],["class","col-6 col-md-3 mb-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-3","mb-3"],[1,"card","h-100"],[1,"card-body"],[1,"d-flex","align-items-center","mb-3"],[1,"mr-2"],[1,"logo",3,"src","alt"],[1,"text-small","font-weight-bold","text-overflow-ellipsis"],[1,"btn","btn-custom-primary","px-3","mr-3",3,"href"],[1,"btn","btn-custom-primary","px-3",3,"href"]],template:function(t,e){1&t&&(l.TgZ(0,"app-header"),l._UZ(1,"app-page-title",0),l.qZA(),l.TgZ(2,"div",1),l.YNc(3,x,4,1,"div",2),l.qZA(),l.TgZ(4,"app-footer"),l.TgZ(5,"div",3),l.TgZ(6,"button",4),l.NdJ("click",function(){return e.signOut()}),l._uU(7,"\u30ed\u30b0\u30a2\u30a6\u30c8"),l.qZA(),l.qZA(),l.qZA(),l._UZ(8,"app-loading",5),l.ALo(9,"async")),2&t&&(l.xp6(3),l.Q6J("ngIf",e.projects.length>0),l.xp6(5),l.Q6J("isLoading",l.lcZ(9,2,e.isLoading)))},directives:[m.G,Z.T,o.O5,y.c,f.N,o.sg],pipes:[o.Ov],styles:[".logo[_ngcontent-%COMP%]{width:2rem}.btn-custom-primary.disabled[_ngcontent-%COMP%]{opacity:1!important;background-color:#666!important;border-color:#666!important;color:#eee!important}"]});var k=function(){function e(n,i){t(this,e),this.router=n,this.actionService=i}return n(e,[{key:"ngOnInit",value:function(){this.actionService.order.delete(),this.actionService.purchase.delete(),this.router.navigate(["/"])}},{key:"selectProject",value:function(){}}]),e}();k.\u0275fac=function(t){return new(t||k)(l.Y36(s.F0),l.Y36(v.cw))},k.\u0275cmp=l.Xpm({type:k,selectors:[["app-auth-signout"]],decls:1,vars:1,consts:[["process","process.authAction.Logout",3,"isLoading"]],template:function(t,e){1&t&&l._UZ(0,"app-loading",0),2&t&&l.Q6J("isLoading",!0)},directives:[f.N],styles:[""]});var S=[{path:"",children:[{path:"",component:h},{path:"signin",canActivate:[a.PP],component:A},{path:"signout",component:k}]}],T=n(function e(){t(this,e)});T.\u0275fac=function(t){return new(t||T)},T.\u0275mod=l.oAB({type:T}),T.\u0275inj=l.cJS({imports:[[s.Bz.forChild(S)],s.Bz]});var q=n(function e(){t(this,e)});q.\u0275fac=function(t){return new(t||q)},q.\u0275mod=l.oAB({type:q}),q.\u0275inj=l.cJS({imports:[[o.ez,T,c.m]]})}}])}();