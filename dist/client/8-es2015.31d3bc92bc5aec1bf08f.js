(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"63k7":function(t,c,n){"use strict";n.r(c),n.d(c,"AuthModule",function(){return x});var i=n("ofXK"),e=n("eXdM"),o=n("tyNb"),r=n("064k"),s=n("ADXf"),a=n("qXkn"),l=n("fXoL"),d=n("VRkF"),p=function(t,c,n,i){return new(n||(n=Promise))(function(e,o){function r(t){try{a(i.next(t))}catch(c){o(c)}}function s(t){try{a(i.throw(t))}catch(c){o(c)}}function a(t){var c;t.done?e(t.value):(c=t.value,c instanceof n?c:new n(function(t){t(c)})).then(r,s)}a((i=i.apply(t,c||[])).next())})};class u{constructor(t,c){this.cinerino=t,this.router=c,this.environment=Object(s.a)()}ngOnInit(){return p(this,void 0,void 0,function*(){try{yield this.cinerino.getServices(),this.router.navigate([this.environment.BASE_URL])}catch(t){yield this.cinerino.signIn()}})}}u.\u0275fac=function(t){return new(t||u)(l.dc(a.a),l.dc(o.b))},u.\u0275cmp=l.Xb({type:u,selectors:[["app-auth-index"]],decls:1,vars:1,consts:[["process","process.authAction.CheckLogin",3,"isLoading"]],template:function(t,c){1&t&&l.ec(0,"app-loading",0),2&t&&l.zc("isLoading",!0)},directives:[d.a],styles:[""]});var h=n("l7P3"),f=n("BHlQ"),b=n("FZB/"),v=n("Ide5"),g=n("lvnI"),m=n("C1lg"),y=function(t,c,n,i){return new(n||(n=Promise))(function(e,o){function r(t){try{a(i.next(t))}catch(c){o(c)}}function s(t){try{a(i.throw(t))}catch(c){o(c)}}function a(t){var c;t.done?e(t.value):(c=t.value,c instanceof n?c:new n(function(t){t(c)})).then(r,s)}a((i=i.apply(t,c||[])).next())})};function j(t,c){if(1&t&&(l.jc(0,"li",14),l.jc(1,"div",15),l.jc(2,"div",16),l.jc(3,"div",17),l.jc(4,"div",18),l.ec(5,"img",19),l.ic(),l.jc(6,"p",20),l.Sc(7),l.ic(),l.ic(),l.jc(8,"a",21),l.Sc(9,"\u8d77\u52d5"),l.ic(),l.jc(10,"a",22),l.Sc(11,"\u8a2d\u5b9a"),l.ic(),l.ic(),l.ic(),l.ic()),2&t){const t=c.$implicit;l.Qb(5),l.zc("src",t.logo,l.Nc)("alt",t.name),l.Qb(2),l.Tc(t.name),l.Qb(1),l.zc("href","/?projectId="+t.id,l.Nc),l.Qb(2),l.zc("href","/?projectId="+t.id+"#/setting",l.Nc)}}function w(t,c){if(1&t&&(l.jc(0,"div",10),l.jc(1,"div",11),l.jc(2,"ul",12),l.Qc(3,j,12,5,"li",13),l.tc(4,"async"),l.ic(),l.ic(),l.ic()),2&t){const t=l.sc();let c=null;l.Qb(3),l.zc("ngForOf",null==(c=l.uc(4,1,t.master))?null:c.projects)}}class S{constructor(t,c,n,i){this.store=t,this.masterService=c,this.utilService=n,this.cinerinoService=i}ngOnInit(){return y(this,void 0,void 0,function*(){this.isLoading=this.store.pipe(Object(h.m)(b.b)),this.master=this.store.pipe(Object(h.m)(b.c)),this.projects=[],yield this.masterService.getProjects(),this.utilService.loadStart({process:"load"}),this.utilService.loadEnd()})}signOut(){return y(this,void 0,void 0,function*(){try{yield this.cinerinoService.getServices(),yield this.cinerinoService.signOut()}catch(t){console.error(t)}})}}S.\u0275fac=function(t){return new(t||S)(l.dc(h.b),l.dc(f.d),l.dc(f.f),l.dc(f.b))},S.\u0275cmp=l.Xb({type:S,selectors:[["app-auth-signin"]],decls:16,vars:7,consts:[[3,"topButton"],["title","\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u9078\u629e"],[1,"contents","scroll-horizontal"],["class","p-3",4,"ngIf"],[1,"container","h-100"],[1,"row","align-items-center","justify-content-center","h-100"],[1,"col-3"],["type","button",1,"btn","btn-outline-light","btn-block","font-weight-bold","py-2",3,"click"],["type","button","disabled","",1,"btn","btn-primary","btn-block","font-weight-bold","py-2"],["process","process.masterAction.GetProjects",3,"isLoading"],[1,"p-3"],[1,"container","px-0"],[1,"row"],["class","col-3 mb-3",4,"ngFor","ngForOf"],[1,"col-3","mb-3"],[1,"card","h-100"],[1,"card-body"],[1,"d-flex","align-items-center","mb-3"],[1,"mr-2"],[1,"logo",3,"src","alt"],[1,"text-small","font-weight-bold","text-overflow-ellipsis"],[1,"btn","btn-primary","px-3","mr-3",3,"href"],[1,"btn","btn-primary","px-3",3,"href"]],template:function(t,c){if(1&t&&(l.ec(0,"app-header",0),l.ec(1,"app-page-title",1),l.jc(2,"div",2),l.Qc(3,w,5,3,"div",3),l.tc(4,"async"),l.ic(),l.jc(5,"app-footer"),l.jc(6,"div",4),l.jc(7,"div",5),l.jc(8,"div",6),l.jc(9,"button",7),l.qc("click",function(){return c.signOut()}),l.Sc(10,"\u30ed\u30b0\u30a2\u30a6\u30c8"),l.ic(),l.ic(),l.jc(11,"div",6),l.jc(12,"button",8),l.Sc(13,"\u6b21\u3078"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ec(14,"app-loading",9),l.tc(15,"async")),2&t){let t=null;l.zc("topButton",!1),l.Qb(3),l.zc("ngIf",(null==(t=l.uc(4,3,c.master))?null:t.projects.length)>0),l.Qb(11),l.zc("isLoading",l.uc(15,5,c.isLoading))}},directives:[v.a,g.a,i.l,m.a,d.a,i.k],pipes:[i.b],styles:[".logo[_ngcontent-%COMP%]{width:2rem}.btn-primary.disabled[_ngcontent-%COMP%]{opacity:1!important;background-color:#666!important;border-color:#666!important;color:#eee!important}"]});class k{constructor(t,c){this.router=t,this.actionService=c}ngOnInit(){this.actionService.order.delete(),this.actionService.purchase.delete(),this.router.navigate(["/"])}selectProject(){}}k.\u0275fac=function(t){return new(t||k)(l.dc(o.b),l.dc(f.a))},k.\u0275cmp=l.Xb({type:k,selectors:[["app-auth-signout"]],decls:1,vars:1,consts:[["process","process.authAction.Logout",3,"isLoading"]],template:function(t,c){1&t&&l.ec(0,"app-loading",0),2&t&&l.zc("isLoading",!0)},directives:[d.a],styles:[""]});const O=[{path:"",children:[{path:"",component:u},{path:"signin",canActivate:[r.a],component:S},{path:"signout",component:k}]}];class L{}L.\u0275fac=function(t){return new(t||L)},L.\u0275mod=l.bc({type:L}),L.\u0275inj=l.ac({imports:[[o.d.forChild(O)],o.d]});class x{}x.\u0275fac=function(t){return new(t||x)},x.\u0275mod=l.bc({type:x}),x.\u0275inj=l.ac({imports:[[i.c,L,e.a]]})}}]);