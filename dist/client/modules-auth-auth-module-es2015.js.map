{"version":3,"sources":["./src/client/app/modules/auth/auth.module.ts","./src/client/app/modules/auth/components/pages/auth-index/auth-index.component.ts","./src/client/app/modules/auth/components/pages/auth-index/auth-index.component.html","./src/client/app/modules/auth/auth-routing.module.ts","./src/client/app/modules/auth/components/pages/auth-signout/auth-signout.component.ts","./src/client/app/modules/auth/components/pages/auth-signout/auth-signout.component.html","./src/client/app/modules/auth/components/pages/auth-signin/auth-signin.component.ts","./src/client/app/modules/auth/components/pages/auth-signin/auth-signin.component.html"],"names":[],"mappings":"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","file":"modules-auth-auth-module-es2015.js","sourcesContent":["import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { SharedModule } from '../shared/shared.module';\nimport { AuthRoutingModule } from './auth-routing.module';\nimport { AuthIndexComponent } from './components/pages/auth-index/auth-index.component';\nimport { AuthSigninComponent } from './components/pages/auth-signin/auth-signin.component';\nimport { AuthSignoutComponent } from './components/pages/auth-signout/auth-signout.component';\n\n\n@NgModule({\n  declarations: [\n    AuthIndexComponent,\n    AuthSigninComponent,\n    AuthSignoutComponent\n  ],\n  imports: [\n    CommonModule,\n    AuthRoutingModule,\n    SharedModule,\n  ]\n})\nexport class AuthModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { getEnvironment } from '../../../../../../environments/environment';\nimport { CinerinoService } from '../../../../../services/cinerino.service';\n\n@Component({\n    selector: 'app-auth-index',\n    templateUrl: './auth-index.component.html',\n    styleUrls: ['./auth-index.component.scss']\n})\nexport class AuthIndexComponent implements OnInit {\n    public environment = getEnvironment();\n\n    constructor(\n        private cinerino: CinerinoService,\n        private router: Router\n    ) { }\n\n    public async ngOnInit() {\n        try {\n            await this.cinerino.getServices();\n            this.router.navigate([this.environment.BASE_URL]);\n        } catch (error) {\n            await this.cinerino.signIn();\n        }\n    }\n\n}\n","<app-loading [isLoading]=\"true\" process=\"process.authAction.CheckLogin\"></app-loading>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuardService } from '../../canActivates';\nimport { AuthIndexComponent } from './components/pages/auth-index/auth-index.component';\nimport { AuthSigninComponent } from './components/pages/auth-signin/auth-signin.component';\nimport { AuthSignoutComponent } from './components/pages/auth-signout/auth-signout.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      { path: '', component: AuthIndexComponent },\n      { path: 'signin', canActivate: [AuthGuardService], component: AuthSigninComponent },\n      { path: 'signout', component: AuthSignoutComponent }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AuthRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ActionService } from '../../../../../services';\n\n@Component({\n    selector: 'app-auth-signout',\n    templateUrl: './auth-signout.component.html',\n    styleUrls: ['./auth-signout.component.scss']\n})\nexport class AuthSignoutComponent implements OnInit {\n\n    constructor(\n        private router: Router,\n        private actionService: ActionService,\n    ) { }\n\n    public ngOnInit() {\n        this.actionService.order.delete();\n        this.actionService.purchase.delete();\n        this.router.navigate(['/']);\n    }\n\n    public selectProject() {\n    }\n\n}\n","<app-loading [isLoading]=\"true\" process=\"process.authAction.Logout\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { select, Store } from '@ngrx/store';\nimport { Observable } from 'rxjs';\nimport { CinerinoService, MasterService, UtilService } from '../../../../../services';\nimport * as reducers from '../../../../../store/reducers';\n\n@Component({\n    selector: 'app-auth-signin',\n    templateUrl: './auth-signin.component.html',\n    styleUrls: ['./auth-signin.component.scss']\n})\nexport class AuthSigninComponent implements OnInit {\n    public isLoading: Observable<boolean>;\n    public master: Observable<reducers.IMasterState>;\n    public projects: {\n        projectId: string;\n        projectName: string;\n        storageUrl: string;\n    }[];\n\n    constructor(\n        private store: Store<reducers.IState>,\n        private masterService: MasterService,\n        private utilService: UtilService,\n        private cinerinoService: CinerinoService\n    ) { }\n\n    public async ngOnInit() {\n        this.isLoading = this.store.pipe(select(reducers.getLoading));\n        this.master = this.store.pipe(select(reducers.getMaster));\n        this.projects = [];\n        await this.masterService.getProjects();\n        this.utilService.loadStart({ process: 'load' });\n        // const masterData = await this.masterService.getData();\n        // const projects = masterData.projects;\n        // if (projects.length === 1) {\n        //     // プロジェクトが一つの場合自動遷移\n        //     location.href = `/?projectId=${projects[0].id}`;\n        //     return;\n        // }\n        this.utilService.loadEnd();\n    }\n\n    public async signOut() {\n        try {\n            await this.cinerinoService.getServices();\n            await this.cinerinoService.signOut();\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n}\n","<app-header [topButton]=\"false\">\n</app-header>\n<app-page-title title=\"プロジェクト選択\"></app-page-title>\n<div class=\"contents scroll-horizontal\">\n    <div class=\"p-3\" *ngIf=\"(master | async)?.projects.length > 0\">\n        <div class=\"container px-0\">\n            <ul class=\"row\">\n                <li *ngFor=\"let project of (master | async)?.projects\" class=\"col-3 mb-3\">\n                    <div class=\"card h-100\">\n                        <div class=\"card-body\">\n                            <div class=\"d-flex align-items-center mb-3\">\n                                <div class=\"mr-2\"><img [src]=\"project.logo\" class=\"logo\" [alt]=\"project.name\"></div>\n                                <p class=\"text-small font-weight-bold text-overflow-ellipsis\">{{ project.name }}</p>\n                            </div>\n                            <a class=\"btn btn-custom-primary px-3 mr-3\" [href]=\"'/?projectId=' + project.id\">起動</a>\n                            <a class=\"btn btn-custom-primary px-3\"\n                                [href]=\"'/?projectId=' + project.id + '#/setting'\">設定</a>\n                        </div>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n<app-footer>\n    <div class=\"container h-100\">\n        <div class=\"row align-items-center justify-content-center h-100\">\n            <div class=\"col-3\">\n                <button type=\"button\" class=\"btn btn-custom-secondary btn-block font-weight-bold py-3\"\n                    (click)=\"signOut()\">ログアウト</button>\n            </div>\n            <div class=\"col-3\">\n                <button type=\"button\" class=\"btn btn-custom-primary btn-block font-weight-bold py-3\"\n                    disabled>次へ</button>\n            </div>\n        </div>\n    </div>\n</app-footer>\n\n\n<app-loading [isLoading]=\"isLoading | async\" process=\"process.masterAction.GetProjects\"></app-loading>"],"sourceRoot":"webpack:///"}